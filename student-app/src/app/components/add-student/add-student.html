<div class="form-card">
  <h2>Add Student</h2>
  <form [formGroup]="studentForm" (ngSubmit)="onSave()">
    <div class="form-row">
      <label for="name">Name <span class="required">*</span></label>
      <input id="name" formControlName="name" />
      <div class="error" *ngIf="name?.touched && name?.invalid">
        <div *ngIf="name?.errors?.['required']">Name is required.</div>
        <div *ngIf="name?.errors?.['minlength']">Minimum length is 5 characters.</div>
      </div>
    </div>

    <div class="form-row">
      <label for="class">Class <span class="required">*</span></label>
      <select id="class" formControlName="class">
        <option value="">-- Select Class --</option>
        <option *ngFor="let c of classes" [value]="c">{{ c }}</option>
      </select>

      <!-- class-specific messages using *ngIf -->
      <div class="class-message" *ngIf="classControl?.value === 'Class 9'">
        You will appear in board exams soon. All the Best !!
      </div>
      <div class="class-message" *ngIf="classControl?.value === 'Class 6'">
        Welcome to middle school!
      </div>
      <div class="class-message" *ngIf="classControl?.value && (classControl?.value !== 'Class 9' && classControl?.value !== 'Class 6')">
        Education and hobby go hand in hand!
      </div>

      <div class="error" *ngIf="classControl?.touched && classControl?.invalid">
        <div *ngIf="classControl?.errors?.['required']">Class is required.</div>
      </div>
    </div>

    <div class="form-row">
      <label>Gender <span class="required">*</span></label>
      <label><input type="radio" formControlName="gender" value="Male" /> Male</label>
      <label><input type="radio" formControlName="gender" value="Female" /> Female</label>
      <div class="error" *ngIf="gender?.touched && gender?.invalid">
        <div *ngIf="gender?.errors?.['required']">Gender is required.</div>
      </div>
    </div>

    <div class="form-row">
      <label><input type="checkbox" formControlName="hasHobby" /> I have a hobby</label>
    </div>

    
    <div class="form-row" *ngIf="hasHobby?.value">
      <label for="hobby">Hobby <span class="required">*</span></label>
      <input id="hobby" formControlName="hobby" />
      <div class="error" *ngIf="hobby?.touched && hobby?.invalid">
        <div *ngIf="hobby?.errors?.['required']">Hobby is required.</div>
        <div *ngIf="hobby?.errors?.['minlength']">Minimum 2 characters.</div>
      </div>
    </div>

    <div class="form-row">
      <label for="favouriteSubject">Favourite Subject</label>
      <select id="favouriteSubject" formControlName="favouriteSubject">
        <option value="">-- None --</option>
        <option *ngFor="let s of subjects" [value]="s">{{ s }}</option>
      </select>
    </div>

    <div class="form-actions">
      <button type="submit">Save</button>
      <button type="button" (click)="studentForm.reset({ hasHobby: false })">Reset</button>
    </div>
  </form>
</div>
